<div class="container my-5 pt-5">
  <div class="row mb-4">
    <div class="col-12 text-center">
      <h2 class="display-5 fw-bold text-primary">Your Shopping Cart</h2>
      <p class="lead text-muted">
        Review and manage your items before checkout.
      </p>
    </div>
  </div>

  <div class="row row-cols-1 row-cols-sm-2 row-cols-md-2 row-cols-lg-3 g-4">
    @for(item of items;track item.cartId){
    <div class="col">
      <div class="card h-100 shadow-sm border-0 rounded-3">
        <div class="position-relative">
          <img
            src="https://localhost:7054{{item.images}}"
            class="card-img-top p-2 rounded-3"
            alt="Product Image"
          />
        </div>
        <div class="card-body d-flex flex-column">
          <h5 class="card-title fw-bold">Name:{{item.productName}}</h5>
          @if(item.offer){
      <div  class="d-flex gap-2">
        <p class="product-price text-decoration-line-through">{{ item.salary }} EGP</p>
        <p class="product-price">{{ item.priceAfterDiscount }} EGP</p>
      </div>
      }
      @else{
        <p class="product-price">{{ item.priceAfterDiscount }} EGP</p>
      }
          <div class="input-group mb-3">
            @if(item.quantity>1)
            {
                <button class="btn btn-outline-secondary" type="button" >
              <i class="fas fa-minus" (click)="RemoveWishList(item.cartId)"></i>
            </button>
              }
              @else {
                    <button class="btn btn-outline-secondary" type="button" >
               <i class="fas fa-trash-alt me-2"(click)="RemoveWishList(item.cartId)" ></i>       
            </button>
          
              }
            <input type="text" class="form-control text-center" [value]=" item.quantity" readonly>
            <button class="btn btn-outline-secondary" (click)="addItem(item.productId,1)" type="button" >
              <i class="fas fa-plus"></i>
            </button>
          </div>

          <div class="mt-auto d-grid gap-2">
          </div>
        </div>
      </div>
    </div>
    
}

    </div>
        <div class="d-flex justify-content-center align-items-center">
      @if(items.length>0){
          <button (click)="add()" class="btn btn-success my-4 ">
              <i class="fas fa-plus me-2"></i> Add Item
            </button>
            }
            @else{
                    <button (click)="goToShop()" class="btn btn-success my-4 ">
              <i class="fas fa-shop me-2"></i> buy in Shop
            </button>
            }
            </div>
</div>

<div class="bg-warning p-2 text-white ">
<p class="text-center mt-3"> Total: {{ totalPrice | currency:'EGP':'symbol' }}</p>
</div>
