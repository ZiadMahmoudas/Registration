<div class="container my-5">
  <div class="row justify-content-center g-4">
    <div class="col-lg-7">
      <div class="card shadow-lg border-0 rounded-lg">
        <div class="card-header bg-primary text-white text-center py-4 rounded-top">
          <h3 class="mb-0">
            <i class="fas fa-box-open me-2"></i>
            {{ isEdit ? 'Update Product' : 'Add New Product' }}
          </h3>
        </div>
        <div class="card-body p-4">
          <form [formGroup]="addProduct" (ngSubmit)="onSubmit()">
            <div class="mb-3">
              <label for="productName" class="form-label fw-bold">Product Name</label>
              <input
                type="text"
                class="form-control form-control-lg"
                id="productName"
                formControlName="productName"
                placeholder="Enter product name"
              />
            </div>

            <div class="mb-3">
              <label for="productDescription" class="form-label fw-bold">Description</label>
              <textarea
                class="form-control"
                id="productDescription"
                formControlName="productDescription"
                placeholder="Product Description"
                rows="4"
              ></textarea>
            </div>

            <div class="row">
              <div class="col-lg-6 mb-3">
                <label for="price" class="form-label fw-bold">Price</label>
                <div class="input-group">
                  <span class="input-group-text">$</span> 
                  <input
                    type="number"
                    class="form-control form-control-lg"
                    id="price"
                    formControlName="salary"
                    placeholder="Price"
                  />
                </div>
              </div>

              <div class="col-lg-6 mb-3">
                <label for="quantity" class="form-label fw-bold">Quantity</label>
                <input
                  type="number"
                  class="form-control form-control-lg"
                  id="quantity"
                  formControlName="stock"
                  placeholder="Quantity"
                />
              </div>
            </div>

            <div class="mb-3">
              <label for="brand" class="form-label fw-bold">Brand</label>
              <input
                type="text"
                class="form-control form-control-lg"
                id="brand"
                formControlName="brand"
                placeholder="Brand Name"
              />
            </div>

            <div class="mb-3">
              <label for="tag" class="form-label fw-bold">Tag</label>
              <select class="form-select form-select-lg" id="tag" formControlName="tagType">
<option value="" disabled selected>-- Select Tag --</option>
<option *ngFor="let tag of allTags" >{{ tag.tagId }}</option>
              </select>
            </div>

            <div class="mb-3">
              <label for="offer" class="form-label fw-bold">Offer</label>
              <select class="form-select form-select-lg" id="offer" formControlName="offer">
                <option [disabled]="true" [selected]="true">-- Select Offer --</option>
                @for (offer of allOffers; track offer.id) {
                <option [value]="offer.id">{{ offer.title }}</option>
                }
              </select>
            </div>

            <div class="mb-4">
              <label for="productImage" class="form-label fw-bold">Product Image</label>
              <input
                class="form-control form-control-lg"
                type="file"
                id="productImage"
                (change)="onImageChange($event)"
                accept="image/*"
              />
            </div>

            <div class="d-grid gap-2">
              <button type="submit" class="btn btn-primary btn-lg">
                <i class="fas fa-plus-circle me-2"></i>
                {{ isEdit ? 'Update Product' : 'Add Product' }}
              </button>
            </div>
          </form>
        </div>
      </div>
    </div>

    <div class="col-lg-5">
      <div class="card shadow-lg border-0 rounded-lg my-4">
        <div class="card-header bg-success text-white text-center py-4 rounded-top">
          <h3 class="mb-0">
            <i class="fas fa-tags me-2"></i>
            Add New Tag
          </h3>
        </div>
        <div class="card-body p-4">
          <form [formGroup]="addTag" (ngSubmit)="onTag()">
            <div class="mb-3">
              <label for="tagName" class="form-label fw-bold">Tag Name</label>
              <input
                type="text"
                class="form-control form-control-lg"
                id="tagName"
                formControlName="tagType"
                placeholder="e.g., Electronics, Fashion, etc."
              />
            </div>

            <div class="d-grid gap-2">
              <button type="submit" class="btn btn-success btn-lg">
                <i class="fas fa-plus me-2"></i>Create Tag
              </button>
            </div>
          </form>
        </div>
      </div>
      <div class="card shadow-lg border-0 rounded-lg">
        <div class="card-header bg-warning text-white text-center py-4 rounded-top">
          <h3 class="mb-0">
            <i class="fas fa-tags me-2"></i>
            update  Tag
          </h3>
        </div>
        <div class="card-body p-4">
          <form [formGroup]="updateTag" (ngSubmit)="onupdateTag()">
            <div class="mb-3">
              <label for="tagName" class="form-label fw-bold">Tag Name</label>
              <input
                type="text"
                class="form-control form-control-lg"
                id="tagName"
                formControlName="tagType"
                placeholder="e.g., Electronics, Fashion, etc."
              />
            </div>


       <ul class="list-group mb-3">
        <button type="submit" class="btn btn-secondary btn-lg" [disabled]="!selectedTagId || updateTag.invalid">
  <i class="fas fa-edit me-2"></i> Update Tag
</button>
  <li class="list-group-item d-flex justify-content-between align-items-center" *ngFor="let tag of allTags">
    {{ tag.tagType }}
    <div>
      <button class="btn btn-sm btn-warning me-2" (click)="selectTagForUpdate(tag)">Edit</button>
      <button class="btn btn-sm btn-danger" (click)="deleteTag(tag.tagId)">Delete</button>
    </div>
  </li>
</ul>
          </form>
        </div>
      </div>
    </div>
  </div>
</div>

